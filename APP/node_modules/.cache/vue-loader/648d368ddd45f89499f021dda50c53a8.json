{"remainingRequest":"/home/alu/Desktop/DEUCENGFORUM/APP/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alu/Desktop/DEUCENGFORUM/APP/src/App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/alu/Desktop/DEUCENGFORUM/APP/src/App.vue","mtime":1581022240680},{"path":"/home/alu/Desktop/DEUCENGFORUM/APP/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alu/Desktop/DEUCENGFORUM/APP/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/alu/Desktop/DEUCENGFORUM/APP/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/alu/Desktop/DEUCENGFORUM/APP/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alu/Desktop/DEUCENGFORUM/APP/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1Sb2JvdG86MzAwLDQwMCw1MDAsNzAwJmRpc3BsYXk9c3dhcCcpOwoKLmZseW91dCB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIG1pbi1oZWlnaHQ6IDEwMHZoOwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKfQouYWN0aXZlIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7Cn0KLmRlbW8tc2VjdGlvbiB7CiAgcGFkZGluZzogMjBweCAwOwp9Ci5kZW1vLXNlY3Rpb24gPiBzZWN0aW9uIHsKICBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwOwogIHBhZGRpbmc6IDE1cHg7Cn0KLmRlbW8tc2VjdGlvbiA+IGg0IHsKICBmb250LXdlaWdodDogYm9sZDsKICBtYXJnaW4tYm90dG9tOiAyMHB4Owp9Ci5kZW1vLXRpdGxlIHsKICBjb2xvcjogIzllOWU5ZTsKICBmb250LXdlaWdodDogNzAwOwogIG1hcmdpbi1ib3R0b206IDA7CiAgcGFkZGluZy1sZWZ0OiAxNXB4Owp9Ci5kZW1vLXJlc3VsdC1zZWN0aW9uIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgbWFyZ2luLXRvcDogLTIwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMDsKICBib3JkZXItdG9wOiBub25lOwogIHBhZGRpbmc6IDE1cHg7CiAgcGFkZGluZy10b3A6IDUwcHg7CiAgY29sb3I6IGdyZXk7CiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODsKfQouZGVtby1yZXN1bHQtc2VjdGlvbjpiZWZvcmUgewogIGRpc3BsYXk6IGJsb2NrOwogIGNvbnRlbnQ6ICdSZXN1bHQ6JzsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgbGVmdDogMDsKICB0b3A6IDA7CiAgcGFkZGluZzogNXB4IDE1cHg7CiAgd2lkdGg6IDEwMCU7CiAgYmFja2dyb3VuZC1jb2xvcjogI2UwZTBlMDsKICBmb250LXdlaWdodDogNDAwOwp9CgouZmFkZS1lbnRlci1hY3RpdmUsCi5mYWRlLWxlYXZlLWFjdGl2ZSB7CiAgdHJhbnNpdGlvbi1kdXJhdGlvbjogMC4zczsKICB0cmFuc2l0aW9uLXByb3BlcnR5OiBvcGFjaXR5OwogIHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLW91dDsKfQoKLmZhZGUtZW50ZXIsCi5mYWRlLWxlYXZlLWFjdGl2ZSB7CiAgb3BhY2l0eTogMDsKfQoKLm1kLWF2YXRhciB7CiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICB3aWR0aDogNDBweDsKICBoZWlnaHQ6IDQwcHg7Cn0KLm1kLWF2YXRhci5zaXplLTEgewogIHdpZHRoOiA0MHB4OwogIGhlaWdodDogNDBweDsKfQoubWQtYXZhdGFyLnNpemUtMiB7CiAgd2lkdGg6IDcwcHg7CiAgaGVpZ2h0OiA3MHB4Owp9Ci5tZC1hdmF0YXIuc2l6ZS0zIHsKICB3aWR0aDogOTBweDsKICBoZWlnaHQ6IDkwcHg7Cn0KLm1kLWF2YXRhci5zaXplLTQgewogIHdpZHRoOiAxMTBweDsKICBoZWlnaHQ6IDExMHB4Owp9CgoubmF2YmFyIC5kcm9wZG93bi1tZW51IHsKICBwb3NpdGlvbjogcmVsYXRpdmUhaW1wb3J0YW50Owp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmSA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\" class=\"flyout\">\n    <mdb-navbar\n      id=\"main-navbar\"\n      dark\n      position=\"top\"\n      color=\"blue-gradient\"\n      style=\"z-index: 2050; min-height:75px;\"\n\n    >\n      <mdb-navbar-brand to=\"/\" waves class=\"font-weight-bold\">DEUCENG</mdb-navbar-brand>\n      <mdb-navbar-toggler>\n        <mdb-navbar-nav left>\n          <mdb-nav-item exact to=\"/\">\n            <strong>Posts</strong>\n          </mdb-nav-item>\n          <mdb-nav-item v-if=\"loggedIn == false\" @click.native=\"showRegisterModal = false; showLoginModal = true\">\n            <strong>Login</strong>\n          </mdb-nav-item>\n          <mdb-nav-item v-if=\"loggedIn == false\" @click.native=\"showLoginModal = false; showRegisterModal = true\">\n            <strong>Register</strong>\n          </mdb-nav-item>\n        </mdb-navbar-nav>\n        <mdb-navbar-nav right>\n          <mdb-dropdown v-if=\"loggedIn == true\" tag=\"li\" class=\"nav-item\">\n            <mdb-dropdown-toggle slot=\"toggle\" tag=\"a\" navLink waves-fixed>\n              <strong>\n                <img :src=\"this.profileImageSrc\" class=\"rounded-circle z-depth-1 md-avatar\"/>\n              </strong>\n            </mdb-dropdown-toggle>\n            <mdb-dropdown-menu mdb-dropdown-right>\n              <mdb-dropdown-item @click.native=\"redirectProfile()\"><i class=\"fas fa-user\"></i> Profile</mdb-dropdown-item>\n              <mdb-dropdown-item @click.native=\"logout()\"><i class=\"fas fa-sign-out-alt\"></i> Sign out</mdb-dropdown-item>\n            </mdb-dropdown-menu>\n          </mdb-dropdown>\n        </mdb-navbar-nav>\n\n      </mdb-navbar-toggler>\n    </mdb-navbar>\n    <main :style=\"{marginTop: '80px'}\">\n      <mdb-modal centered :show=\"showLoginModal\" @close=\"showLoginModal = false; loginFormError = ''\">\n        <mdb-modal-header class=\"text-center\">\n          <mdb-modal-title tag=\"h4\" bold class=\"w-100\">Sign in</mdb-modal-title>\n        </mdb-modal-header>\n        <mdb-modal-body class=\"mx-3 grey-text\">\n          <div class=\"text-danger text-center\">{{ this.loginFormError }}</div>\n          <form id=\"loginForm\" class=\"needs-validation\" novalidate>\n            <mdb-input label=\"Your username\" v-model=\"username\" icon=\"user\" class=\"mb-5\"/>\n            <mdb-input label=\"Your password\" v-model=\"password\" icon=\"lock\" type=\"password\"/>\n          </form>\n        </mdb-modal-body>\n        <mdb-modal-footer center>\n          <mdb-btn @click.native=\"checkLoginForm\">Login</mdb-btn>\n        </mdb-modal-footer>\n      </mdb-modal>\n        <mdb-modal centered :show=\"showRegisterModal\" @close=\"showRegisterModal = false; registrationFormError = ''; registrationFormSuccess = ''\">\n        <mdb-modal-header class=\"text-center\">\n          <mdb-modal-title tag=\"h4\" bold class=\"w-100\">Sign up</mdb-modal-title>\n        </mdb-modal-header>\n        <mdb-modal-body class=\"mx-3 grey-text\">\n          <div class=\"text-danger text-center\">{{ this.registrationFormError }}</div>\n          <div class=\"text-success text-center\">{{ this.registrationFormSuccess }}</div>\n          <form id=\"registerForm\" class=\"needs-validation\" novalidate>\n            <mdb-input minLength=\"3\" label=\"Your username\" v-model=\"username\" icon=\"user\" class=\"mb-5\"/>\n            <mdb-input label=\"Your email\" v-model=\"email\" icon=\"envelope\" type=\"email\" class=\"mb-5\"/>\n            <mdb-input label=\"Your password\" v-model=\"password\" icon=\"lock\" type=\"password\"/>\n          </form>\n        </mdb-modal-body>\n        <mdb-modal-footer center>\n          <mdb-btn @click.native=\"checkRegisterForm\" color=\"deep-orange\">Sign Up</mdb-btn>\n        </mdb-modal-footer>\n      </mdb-modal>\n      <transition name=\"fade\" mode=\"out-in\">\n        <router-view></router-view>\n      </transition>\n    </main>\n    <mdb-footer color=\"blue-gradient\">\n      <p class=\"footer-copyright mb-0 py-3 text-center\"><strong>FK\n        &copy; {{new Date().getFullYear()}}</strong>\n      </p>\n    </mdb-footer>\n  </div>\n</template>\n\n<script>\nimport {\n  mdbNavbar,\n  mdbNavItem,\n  mdbNavbarNav,\n  mdbNavbarToggler,\n  mdbNavbarBrand,\n  mdbFooter,\n  mdbModal,\n  mdbModalHeader,\n  mdbModalTitle,\n  mdbModalBody,\n  mdbModalFooter,\n  mdbBtn,\n  mdbInput,\n  mdbDropdown,\n  mdbDropdownItem,\n  mdbDropdownMenu,\n  mdbDropdownToggle,\n} from \"mdbvue\"\n\nimport api from \"./api\"\nimport VueCookie from \"vue-cookie\"\n\nexport default {\n  name: \"app\",\n  data () {\n    return {\n      showLoginModal: false,\n      showRegisterModal: false,\n      loggedIn: false,\n      username: '',\n      email: '',\n      password: '',\n      registrationFormError: '',\n      registrationFormSuccess: '',\n      loginFormError: '',\n      profileImageSrc: '',\n      re: /^[a-zA-Z0-9]+([a-zA-Z0-9](_|-| )[a-zA-Z0-9])*[a-zA-Z0-9]*$/,\n      mailRe: /^\\S+\\.\\S+@ceng.deu.edu.tr\\b$/,\n      passRe: /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d$@$!%*#?&]{6,50}$/,\n\n    };\n  },\n  mounted () {\n    this.$root.$on('loginRequest', () => {\n      this.showLoginModal = true\n    })\n\n    api.check_authentication({\n    })\n      .then(res => {\n        if (res.data.error === false){\n          this.loggedIn = true\n          api.get_profile_image({\n          })\n            .then(res => {\n              if(res.data.error === false){\n                this.profileImageSrc = res.data.body\n              }\n            })\n        }\n        else {\n          this.loggedIn = false\n        }\n      })\n      .catch(err => {\n        if (err) {\n          this.loggedIn = false\n        }\n      })\n  },\n  components: {\n    mdbNavbar,\n    mdbNavItem,\n    mdbNavbarNav,\n    mdbNavbarToggler,\n    mdbNavbarBrand,\n    mdbFooter,\n    mdbModal,\n    mdbModalHeader,\n    mdbModalTitle,\n    mdbModalBody,\n    mdbModalFooter,\n    mdbBtn,\n    mdbInput,\n    mdbDropdown,\n    mdbDropdownItem,\n    mdbDropdownMenu,\n    mdbDropdownToggle,\n  },\n  methods: {\n    checkLoginForm () {\n      if (this.username.length < 6 || this.username.length > 15 || this.password.length < 6 || this.password.length > 50) {\n        this.loginFormError = 'Invalid username or password!'\n        return\n      }\n\n      api.login({\n        username: this.username,\n        password: this.password\n      })\n        .then(res => {\n          if(res.data.error === true && res.data.body === 'not_active'){\n            this.loginFormError = 'Activation email sent, please activate your account.'\n          }\n          else {\n            this.loggedIn = true\n            this.loginFormError = ''\n            this.registrationFormError = ''\n            this.registrationFormSuccess = ''\n            this.showLoginModal = false\n            this.showRegisterModal = false\n            this.username = ''\n            this.password = ''\n            this.email = ''\n            VueCookie.set('access_token', res.data.access_token, 1)\n            this.$router.go(0)\n          }\n        })\n        .catch(err => {\n          if (err) {\n            this.loginFormError = 'Invalid username or password!'\n          }\n        })\n    },\n    checkRegisterForm () {\n      if (this.username.length < 6 || this.username.length > 15) {\n        this.registrationFormError = 'Username should be between 6-15 characters!'\n        return\n      }\n      else if (!this.re.test(this.username)) {\n        this.registrationFormError = 'Username contains invalid characters!'\n        return\n      }\n\n      api.check_username({\n        username: this.username\n      })\n        .then(res => {\n          if (res.data.error === true) {\n            this.registrationFormError = 'Username is already in use!'\n          }\n          else {\n            if (!this.mailRe.test(this.email) || this.email.length >= 100) {\n              this.registrationFormError = 'Email pattern should be name.surname@ceng.deu.edu.tr!'\n              return\n            }\n\n            api.check_email({\n              email: this.email\n            })\n              .then(res => {\n                if (res.data.error === true) {\n                  this.registrationFormError = 'Email address is already registered!'\n                }\n                else {\n                  if (!this.passRe.test(this.password)) {\n                    this.registrationFormError = 'Password should minimum 6 characters, at least one letter and one number!'\n                    return\n                  }\n                  api.register({\n                    username: this.username,\n                    email: this.email,\n                    password: this.password\n                  })\n                    .then(res => {\n                      if (res.data.error === false) {\n                        this.username = ''\n                        this.email = ''\n                        this.password = ''\n                        this.registrationFormError = ''\n                        this.registrationFormSuccess = 'Registration successful!'\n                      }\n                    })\n                    .catch(err => {\n                      if (err) {\n                        this.registrationFormError = 'Registration failed!'\n                      }\n                    })\n                }\n              })\n              .catch(err => {\n                if (err) {\n                  this.registrationFormError = 'Registration failed!'\n                }\n              })\n          }\n        })\n        .catch(err => {\n          if (err) {\n            this.registrationFormError = 'Registration failed!'\n          }\n        })\n    },\n    redirectProfile () {\n      this.$router.push('/profile')\n    },\n    logout () {\n      VueCookie.delete('access_token')\n      this.$router.go(0)\n    },\n  }\n};\n</script>\n\n<style>\n@import url('https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap');\n\n.flyout {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  justify-content: space-between;\n}\n.active {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.demo-section {\n  padding: 20px 0;\n}\n.demo-section > section {\n  border: 1px solid #e0e0e0;\n  padding: 15px;\n}\n.demo-section > h4 {\n  font-weight: bold;\n  margin-bottom: 20px;\n}\n.demo-title {\n  color: #9e9e9e;\n  font-weight: 700;\n  margin-bottom: 0;\n  padding-left: 15px;\n}\n.demo-result-section {\n  position: relative;\n  margin-top: -20px;\n  border: 1px solid #e0e0e0;\n  border-top: none;\n  padding: 15px;\n  padding-top: 50px;\n  color: grey;\n  background-color: #f8f8f8;\n}\n.demo-result-section:before {\n  display: block;\n  content: 'Result:';\n  position: absolute;\n  left: 0;\n  top: 0;\n  padding: 5px 15px;\n  width: 100%;\n  background-color: #e0e0e0;\n  font-weight: 400;\n}\n\n.fade-enter-active,\n.fade-leave-active {\n  transition-duration: 0.3s;\n  transition-property: opacity;\n  transition-timing-function: ease-out;\n}\n\n.fade-enter,\n.fade-leave-active {\n  opacity: 0;\n}\n\n.md-avatar {\n  vertical-align: middle;\n  width: 40px;\n  height: 40px;\n}\n.md-avatar.size-1 {\n  width: 40px;\n  height: 40px;\n}\n.md-avatar.size-2 {\n  width: 70px;\n  height: 70px;\n}\n.md-avatar.size-3 {\n  width: 90px;\n  height: 90px;\n}\n.md-avatar.size-4 {\n  width: 110px;\n  height: 110px;\n}\n\n.navbar .dropdown-menu {\n  position: relative!important;\n}\n</style>\n"]}]}